import{j as e,c as K,d as U,e as Y,f as B,g as Z,h as D,O}from"./ui-BhTD1AZt.js";import{d as P,c as _,C as ee,e as h,X as se,D as T,f as A,B as y,g as R,h as w,u as te,a as z,i as ae,j as C}from"./index-DOtWuEAU.js";import{u as N}from"./i18n-DbhNsBPf.js";import{L as W,r as f}from"./router-CRNUPkV4.js";import{I as ne,S as re}from"./input-CX_J6wXh.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],v=P("chevron-down",ie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],le=P("funnel",oe);function ve({items:a}){const{theme:n}=_(),{t:l}=N();return e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsx("ol",{className:"flex items-center space-x-2",children:a.map((t,i)=>e.jsxs("li",{className:"flex items-center",children:[i>0&&e.jsx(ee,{className:h("mx-2 h-4 w-4",n==="dark"?"text-gray-400":"text-gray-500")}),e.jsx(W,{to:t.href,className:h("text-sm hover:text-primary transition-colors",n==="dark"?"text-gray-300":"text-gray-600",i===a.length-1&&"font-medium"),children:t.label})]},t.id))})})}const ce=K,de=U,me=Y,F=f.forwardRef(({className:a,...n},l)=>e.jsx(O,{className:h("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:l}));F.displayName=O.displayName;const G=f.forwardRef(({side:a="right",className:n,children:l,...t},i)=>e.jsxs(me,{children:[e.jsx(F,{}),e.jsxs(B,{ref:i,className:h("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",a==="center"&&"left-[50%] top-[50%] h-auto w-full max-w-lg translate-x-[-50%] translate-y-[-50%] rounded-lg border",n),...t,children:[l,e.jsxs(Z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));G.displayName=B.displayName;const q=({className:a,...n})=>e.jsx("div",{className:h("flex flex-col space-y-2 text-center sm:text-left",a),...n});q.displayName="SheetHeader";const Q=f.forwardRef(({className:a,...n},l)=>e.jsx(D,{ref:l,className:h("text-lg font-semibold text-foreground",a),...n}));Q.displayName=D.displayName;const xe=["all","office","living","dining","bedroom","outdoor","kids","storage","accent"],L=[{min:0,max:3e3,key:"underHundred"},{min:3e3,max:6e3,key:"hundredToTwoHundred"},{min:6e3,max:1e4,key:"twoHundredToFiveHundred"},{min:1e4,max:1/0,key:"overFiveHundred"}];function I({categories:a=xe,selectedCategory:n,onSelectCategory:l,onPriceRangeChange:t,selectedPriceRange:i=null,isMobile:d=!1}){const{t:o,i18n:m}=N(),r=s=>{if(!s)return o("filters.price");const p=L.find(k=>k.min===s.min&&k.max===s.max);return o(p?`filters.priceRanges.${p.key}`:"filters.price")};return d?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(T,{children:[e.jsx(A,{asChild:!0,children:e.jsxs(y,{variant:"outline",className:"w-full justify-between border-2 hover:border-primary",children:[o(n==="all"?"filters.departments":`categories.${n}`),e.jsx(v,{className:"ml-2 h-4 w-4"})]})}),e.jsx(R,{className:"w-[calc(100%-2rem)] min-w-[200px] border-2",align:"center",children:a.map(s=>e.jsx(w,{onClick:()=>l(s),className:h("cursor-pointer hover:bg-accent",n===s&&"bg-accent/50 font-medium"),children:o(`categories.${s}`)},s))})]}),e.jsxs(T,{children:[e.jsx(A,{asChild:!0,children:e.jsxs(y,{variant:"outline",className:"w-full justify-between border-2 hover:border-primary",children:[r(i),e.jsx(v,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(R,{className:"w-[calc(100%-2rem)] min-w-[200px] border-2",align:"center",children:[e.jsx(w,{onClick:()=>t(null),className:h("cursor-pointer hover:bg-accent",!i&&"bg-accent/50 font-medium"),children:o("filters.priceRanges.all")}),L.map(s=>e.jsx(w,{onClick:()=>t({min:s.min,max:s.max}),className:h("cursor-pointer hover:bg-accent",i?.min===s.min&&i?.max===s.max&&"bg-accent/50 font-medium"),children:o(`filters.priceRanges.${s.key}`)},s.key))]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3 text-foreground",children:o("filters.departments")}),e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsx("button",{onClick:()=>l(s),className:h("w-full text-left px-3 py-2 rounded-md text-sm transition-colors",n===s?"bg-accent/50 font-medium text-foreground":"text-muted-foreground hover:bg-accent/30"),children:o(`categories.${s}`)},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3 text-foreground",children:o("filters.price")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>t(null),className:h("w-full text-left px-3 py-2 rounded-md text-sm transition-colors",i?"text-muted-foreground hover:bg-accent/30":"bg-accent/50 font-medium text-foreground"),children:o("filters.priceRanges.all")}),L.map(s=>e.jsx("button",{onClick:()=>t({min:s.min,max:s.max}),className:h("w-full text-left px-3 py-2 rounded-md text-sm transition-colors",i?.min===s.min&&i?.max===s.max?"bg-accent/50 font-medium text-foreground":"text-muted-foreground hover:bg-accent/30"),children:o(`filters.priceRanges.${s.key}`)},s.key))]})]})]})}function ue({products:a,children:n}){const{theme:l}=_(),{t,i18n:i}=N(),{currentLanguage:d}=te(),{addToCart:o}=z(),m=i.language==="en";return!a||a.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:t("common.noProductsFound")})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(r=>e.jsx("div",{className:"group",children:n?n(r):e.jsxs("div",{children:[e.jsxs(W,{to:`/product/${r.id}`,className:"block hover:opacity-80",children:[e.jsx("img",{src:r.images?.[0]||r.image,alt:m?r.nameEn:r.name,className:"w-full h-48 object-cover rounded-lg"}),e.jsx("h3",{className:"mt-2 text-lg font-semibold",children:m?r.nameEn:r.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:ae(r.price,i.language)})]}),e.jsx("button",{onClick:()=>o(r),className:"mt-2 w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:t("common.addToCart")})]})},r.id))})}function he({value:a,onChange:n}){const{t:l}=N();return e.jsxs("div",{className:"relative w-64",children:[e.jsx(ne,{type:"text",placeholder:l("common.search"),value:a,onChange:t=>n(t.target.value),className:"pl-10"}),e.jsx(re,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}function g(a,n){if(!a||!n)return 0;const l=a.toLowerCase().trim(),t=n.toLowerCase().trim();if(t.includes(l))return 2;const i=l.split(/\s+/),d=t.split(/\s+/);let o=0;for(const m of i){let r=0;for(const s of d){if(s.startsWith(m)){r=Math.max(r,1.5);continue}if(s.includes(m)){r=Math.max(r,1);continue}if(m.length>=2&&s.startsWith(m)){r=Math.max(r,1);continue}}o+=r}return o/i.length}const $=["all","office","living","dining","bedroom","outdoor","kids","storage","accent"];function ke({products:a,initialCategory:n="all",onCategoryChange:l}){const{t,i18n:i}=N(),[d,o]=f.useState(""),[m,r]=f.useState(n),[s,p]=f.useState(null),[k,fe]=f.useState(null),[E,V]=f.useState(a),[ge,X]=f.useState(!1),H=[{key:"featured",label:t("common.featured")},{key:"priceLowToHigh",label:t("common.priceLowToHigh")},{key:"priceHighToLow",label:t("common.priceHighToLow")},{key:"newest",label:t("common.newestArrivals")}],[S,J]=f.useState(H[0]),{addToCart:pe}=z(),M=c=>{r(c),l&&l(c)};return f.useEffect(()=>{let c=a;d&&(c=c.filter(x=>{const u=g(d,x.name),j=x.description?g(d,x.description):0,b=g(d,x.category);return u>0||j>0||b>0}).sort((x,u)=>{const j=Math.max(g(d,x.name),x.description?g(d,x.description):0,g(d,x.category));return Math.max(g(d,u.name),u.description?g(d,u.description):0,g(d,u.category))-j})),m&&m!=="all"&&(c=c.filter(x=>x.category===m)),s&&(c=c.filter(x=>{const u=C(x.price,i.language),j=C(s.min,i.language),b=C(s.max,i.language);return u>=j&&u<=b})),c=[...c].sort((x,u)=>{switch(S.key){case"priceLowToHigh":return x.price-u.price;case"priceHighToLow":return u.price-x.price;case"newest":return new Date(u.createdAt)-new Date(x.createdAt);case"featured":default:return 0}}),V(c)},[a,d,m,s,S]),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"lg:hidden flex justify-between items-center mb-4",children:e.jsxs(ce,{children:[e.jsx(de,{asChild:!0,children:e.jsxs(y,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),t("filters.departments"),e.jsx(v,{className:"h-4 w-4 ml-2"})]})}),e.jsxs(G,{side:"center",className:"w-[90%] max-w-[400px] p-0",children:[e.jsx(q,{className:"px-6 py-4 border-b border-border",children:e.jsx(Q,{children:t("filters.departments")})}),e.jsx("div",{className:"px-6 py-4",children:e.jsx(I,{categories:$,selectedCategory:m,onSelectCategory:c=>{M(c),X(!1)},onPriceRangeChange:p,selectedPriceRange:s,isMobile:!0})})]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"hidden lg:block lg:w-64",children:e.jsx(I,{categories:$,selectedCategory:m,onSelectCategory:M,onPriceRangeChange:p,selectedPriceRange:s,isMobile:!1})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.length," ",t("common.results"),m!=="all"&&` ${t("common.resultsIn")} ${t(`categories.${m}`)}`]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[e.jsx(he,{value:d,onChange:o,className:"w-full sm:w-auto"}),e.jsxs(T,{children:[e.jsx(A,{asChild:!0,children:e.jsxs(y,{variant:"outline",className:"w-full sm:w-[200px] justify-between",children:[t("common.sortBy"),": ",S.label,e.jsx(v,{className:"ml-2 h-4 w-4"})]})}),e.jsx(R,{className:"w-[200px]",children:H.map(c=>e.jsx(w,{onClick:()=>J(c),children:c.label},c.key))})]})]})]}),e.jsx(ue,{products:E})]})]})]})}export{ve as B,ke as P};
